<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ferrite-nn ¬∑ Inference</title>
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: #f0f2f5;
      color: #1a1a2e;
      min-height: 100vh;
    }

    header {
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 60%, #0f3460 100%);
      color: #fff;
      padding: 28px 32px 24px;
      display: flex;
      align-items: baseline;
      gap: 14px;
    }

    header h1 {
      font-size: 1.6rem;
      font-weight: 700;
      letter-spacing: -0.5px;
    }

    header .subtitle {
      font-size: 0.9rem;
      opacity: 0.6;
      font-weight: 400;
    }

    .badge {
      background: #e94560;
      color: #fff;
      font-size: 0.65rem;
      font-weight: 700;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      padding: 2px 8px;
      border-radius: 20px;
      vertical-align: middle;
    }

    main {
      max-width: 680px;
      margin: 40px auto;
      padding: 0 20px 60px;
    }

    .card {
      background: #fff;
      border-radius: 14px;
      box-shadow: 0 2px 16px rgba(0,0,0,0.07);
      padding: 28px 32px;
      margin-bottom: 24px;
    }

    .card h2 {
      font-size: 1rem;
      font-weight: 600;
      color: #0f3460;
      margin-bottom: 18px;
      padding-bottom: 10px;
      border-bottom: 2px solid #f0f2f5;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    label {
      display: block;
      font-size: 0.82rem;
      font-weight: 600;
      color: #555;
      text-transform: uppercase;
      letter-spacing: 0.4px;
      margin-bottom: 6px;
    }

    select, textarea {
      width: 100%;
      padding: 10px 14px;
      border: 1.5px solid #dde2ec;
      border-radius: 8px;
      font-size: 0.95rem;
      font-family: inherit;
      background: #fafbfc;
      color: #1a1a2e;
      transition: border-color 0.15s;
      outline: none;
      margin-bottom: 18px;
    }

    select:focus, textarea:focus {
      border-color: #e94560;
      background: #fff;
    }

    textarea {
      font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
      font-size: 0.88rem;
      resize: vertical;
      min-height: 80px;
    }

    .hint {
      font-size: 0.78rem;
      color: #888;
      margin-top: -14px;
      margin-bottom: 18px;
    }

    button[type="submit"] {
      width: 100%;
      padding: 13px;
      background: linear-gradient(135deg, #e94560, #c73652);
      color: #fff;
      font-size: 1rem;
      font-weight: 600;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      letter-spacing: 0.2px;
      transition: opacity 0.15s, transform 0.1s;
    }

    button[type="submit"]:hover { opacity: 0.92; }
    button[type="submit"]:active { transform: scale(0.98); }

    /* ‚îÄ‚îÄ Result card ‚îÄ‚îÄ */
    .result-card {
      background: #fff;
      border-radius: 14px;
      box-shadow: 0 2px 16px rgba(0,0,0,0.07);
      padding: 28px 32px;
      margin-bottom: 24px;
      border-left: 4px solid #e94560;
    }

    .result-card h2 {
      font-size: 1rem;
      font-weight: 600;
      color: #0f3460;
      margin-bottom: 18px;
      padding-bottom: 10px;
      border-bottom: 2px solid #f0f2f5;
    }

    .prediction-hero {
      font-size: 2rem;
      font-weight: 700;
      color: #e94560;
      margin-bottom: 6px;
    }

    .prediction-sub {
      font-size: 0.9rem;
      color: #666;
      margin-bottom: 20px;
    }

    .prob-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.875rem;
    }

    .prob-table th {
      text-align: left;
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.4px;
      color: #888;
      padding: 0 8px 8px 0;
    }

    .prob-table td {
      padding: 5px 8px 5px 0;
      vertical-align: middle;
    }

    .bar-wrap {
      width: 260px;
      background: #f0f2f5;
      border-radius: 4px;
      height: 10px;
      overflow: hidden;
    }

    .bar-fill {
      height: 10px;
      border-radius: 4px;
      background: linear-gradient(90deg, #e94560, #ff7c8a);
      transition: width 0.3s ease;
    }

    .bar-fill.dim { background: #c5cad8; }

    .prob-pct {
      font-variant-numeric: tabular-nums;
      font-size: 0.82rem;
      color: #555;
      width: 52px;
      text-align: right;
    }

    .raw-output {
      font-family: "SFMono-Regular", Consolas, monospace;
      font-size: 0.88rem;
      background: #f5f7fb;
      border-radius: 8px;
      padding: 14px 16px;
      color: #333;
      word-break: break-all;
      line-height: 1.7;
    }

    .error-box {
      background: #fff5f5;
      border-left: 4px solid #e94560;
      border-radius: 8px;
      padding: 14px 18px;
      color: #c0392b;
      font-size: 0.9rem;
    }

    footer {
      text-align: center;
      font-size: 0.78rem;
      color: #aaa;
      margin-top: 8px;
    }
  </style>
</head>
<body>

<header>
  <h1>‚öóÔ∏è ferrite-nn</h1>
  <span class="subtitle">inference playground</span>
  <span class="badge">local</span>
</header>

<main>
  <form method="POST" action="/infer">
    <div class="card">
      <h2>üß† Model</h2>
      <label for="model">Pretrained model</label>
      <select id="model" name="model">
        {{MODEL_OPTIONS}}
      </select>
    </div>

    <div class="card">
      <h2>üì• Input</h2>
      <label for="inputs">Input values</label>
      <textarea id="inputs" name="inputs" rows="4"
        placeholder="Enter comma-separated numbers, e.g.:&#10;0.0, 1.0&#10;&#10;For MNIST: 784 pixel values in [0, 1]">{{INPUT_VALUES}}</textarea>
      <p class="hint">Comma-separated floats ‚Äî one value per input neuron.</p>
      <button type="submit">Run inference ‚Üí</button>
    </div>
  </form>

  {{RESULT_SECTION}}

  <footer>ferrite-nn ¬∑ from-scratch neural networks in Rust ¬∑ <a href="https://github.com/radu-matei/ferrite-nn" style="color:#aaa">GitHub</a></footer>
</main>

</body>
</html>
